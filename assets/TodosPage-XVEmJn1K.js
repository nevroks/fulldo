import{u as x,a as f,j as e,L as h,d as b,t as C,r as _,I as m,B as u,b as S,U as N,c as w}from"./index-mHJHOWph.js";import{B as g,I as T}from"./index-DnBKqWeP.js";import{I as U}from"./index-wmEpjRSb.js";const I="_page__content_1duf9_1",A="_popUp_1duf9_23",D="_popUp__content_1duf9_47",L="_page__content__navigation_1duf9_71",y="_form_1duf9_89",$="_select__container_1duf9_105",B="_select__arrow_1duf9_113",l={page__content:I,popUp:A,popUp__content:D,page__content__navigation:L,form:y,select__container:$,select__arrow:B},F="_content_1kvmt_1",P="_todo_1kvmt_13",E="_todo_done_1kvmt_43",M="_todo__text__container_1kvmt_65",Q="_btns_1kvmt_89",z="_btn__checkbox_1kvmt_97",i={content:F,todo:P,todo_done:E,todo__text__container:M,btns:Q,btn__checkbox:z},H=({id:o,description:s,title:a})=>{const t=x(),n=f(p=>p.todo[o]);let d=n.completed;const r=()=>{t(C(n))};return e.jsxs("div",{className:d?i.todo_done:i.todo,children:[e.jsxs("div",{className:i.todo__text__container,children:[a.length>=30?e.jsxs(h,{to:`/todos/${o}`,children:[e.jsxs("h2",{children:[a.substring(0,30),"..."]})," "]}):e.jsx("h2",{children:a}),s.length>=30?e.jsxs(h,{to:`/todos/${o}`,children:[s.substring(0,30),"..."]}):e.jsx("p",{children:s})]}),e.jsxs("div",{className:i.btn__checkbox,children:[e.jsxs("div",{className:i.btns,children:[e.jsx(g,{variant:"red",onClick:()=>t(b({id:o})),children:"Delete"}),e.jsx(g,{variant:"blue",children:e.jsx(h,{style:{color:"white"},to:`/todos/${o}`,children:"More"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`isComp${o}`,children:"Is Completed?"}),e.jsx("input",{onChange:r,checked:n.completed,id:`isComp${o}`,type:"checkbox"})]})]})]},o)},J=({todos:o})=>e.jsx("div",{className:i.content,children:o.map(s=>e.jsx(H,{id:s.id,description:s.description,title:s.title},s.id))}),O=({todos:o,setPopUp:s})=>{const a=x(),[t,n]=_.useState({title:"",description:"",id:o.length,completed:!1,createdAt:Date.now()});return e.jsxs(e.Fragment,{children:[e.jsx(m,{value:t.title,onChange:d=>n({...t,title:d.target.value}),placeholder:"title"}),e.jsx(m,{value:t.description,onChange:d=>n({...t,description:d.target.value}),placeholder:"description"}),e.jsx(u,{onClick:()=>{n({...t,id:o.length,createdAt:Date.now()}),a(S(t)),n({title:"",description:"",id:0,completed:!1,createdAt:0}),s(!1)},children:"Apply"})]})},R="_select_1uztr_1",V={select:R},q=({defaultValue:o,options:s,setSelectedAction:a})=>e.jsxs("select",{onChange:t=>a(t.target.value),className:V.select,children:[e.jsx("option",{disabled:!0,children:o}),s.map(t=>e.jsx("option",{value:t.value,children:t.name},t.value))]}),X=()=>{const o=x(),s=f(c=>c.todo),[a,t]=_.useState(!1),[n,d]=_.useState("Save"),[r,p]=_.useState(""),v=_.useMemo(()=>[...s].filter(c=>c.title.toLowerCase().includes(r)),[s,r]);function k(c){switch(c.preventDefault(),n){case"Save":localStorage.setItem("saved todos",JSON.stringify(s));break;case"Delete saved todos":localStorage.removeItem("saved todos");break;case"Load saved todos":const j=N({method:"get",key:"saved todos"});if(j===null){alert("There is no saved todos");return}o(w(j));break}}return e.jsxs("div",{className:l.page__content,children:[e.jsxs("div",{className:l.page__content__navigation,children:[e.jsxs("form",{className:l.form,children:[e.jsxs("div",{className:l.select__container,children:[e.jsx(q,{setSelectedAction:d,defaultValue:"Chose action:",options:[{value:"Save",name:"Save"},{value:"Delete saved todos",name:"Delete saved todos"},{value:"Load saved todos",name:"Load saved todos"}]}),e.jsx(U,{className:l.select__arrow})]}),e.jsx(u,{onClick:k,children:e.jsx(T,{})})]}),e.jsx(u,{onClick:()=>{t(!0)},children:"Create new"}),e.jsx(m,{value:r,onChange:c=>p(c.target.value),placeholder:"Find by title"})]}),a&&e.jsx("div",{onClick:()=>t(!1),className:l.popUp,children:e.jsxs("div",{onClick:c=>c.stopPropagation(),className:l.popUp__content,children:[e.jsx("h1",{children:"Create"}),e.jsx(O,{setPopUp:t,todos:s})]})}),v.length!==0?e.jsx(J,{todos:v}):e.jsxs("p",{children:["There is no todos matching ",r]})]})};export{X as default};
